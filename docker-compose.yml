version: "3.8"

services: 
  vor:
    image: vor:latest
    # tty: true
    # stdin_open: true
    command: bash
    build:
      context: .
      dockerfile: Dockerfile
    environment: 
      - LD_LIBRARY_PATH=/openpose/build/python/openpose
      - NVIDIA_VISIBLE_DEVICES=0
    volumes: 
      - /Users/runebrinckmeyer/dev/runetech/posing/docker/pose-models:/openpose/models/pose
      - /Users/runebrinckmeyer/dev/runetech/posing/docker/src/01_body_from_image.py:/openpose/examples/tutorial_api_python/01_body_from_image.py


#docker run --rm -it --gpus all -e LD_LIBRARY_PATH=/openpose/build/python/openpose -e NVIDIA_VISIBLE_DEVICES=0 - v /Users/runebrinckmeyer/dev/runetech/posing/docker/pose-models:/openpose/models/pose -v /Users/runebrinckmeyer/dev/runetech/posing/docker/src/01_body_from_image.py:/openpose/examples/tutorial_api_python/01_body_from_image.py bash